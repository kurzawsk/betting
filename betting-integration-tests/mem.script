CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE SEQUENCE SEQ_INT AS INTEGER START WITH 1 
CREATE MEMORY TABLE MATCH_COURSE(ID BIGINT NOT NULL PRIMARY KEY,COURSE_1 NUMERIC NOT NULL,COURSE_2 NUMERIC NOT NULL,COURSE_X NUMERIC NOT NULL,HOURS_TO_START NUMERIC NOT NULL,BOOKMAKER_ID BIGINT NOT NULL,MATCH_ID BIGINT NOT NULL)
CREATE MEMORY TABLE BETTING_EVENT(ID BIGINT NOT NULL PRIMARY KEY,BET_COURSE NUMERIC,EVENT_TIME TIMESTAMP NOT NULL,BETTING_EVENT_TYPE VARCHAR(255) NOT NULL,EXPECTED_MATCH_RESULT VARCHAR(255),PROPOSAL_SOURCE VARCHAR(4000),RESOURCES_AFTER_EVENT NUMERIC NOT NULL,RESOURCES_BEFORE_EVENT NUMERIC NOT NULL,BETTOR_ID BIGINT NOT NULL,MATCH_ID BIGINT)
CREATE INDEX IDXSFGKFRQGGKKUB3IT2RJPG27YU ON BETTING_EVENT(BETTOR_ID)
CREATE INDEX IDXE73CCI1VYAG5GMKA5WBCG5W88 ON BETTING_EVENT(MATCH_ID)
CREATE INDEX IDXCWO1D6S5CGPEP3EA1MJF2SYKS ON BETTING_EVENT(MATCH_ID,BETTOR_ID)
CREATE MEMORY TABLE BETTING_PROPOSAL_SOURCE(ID BIGINT NOT NULL PRIMARY KEY,IS_ACTIVE BOOLEAN NOT NULL,LOGIC_IMP_CLASS VARCHAR(255) NOT NULL,SCHEDULE_EXPRESSION VARCHAR(255) NOT NULL)
CREATE MEMORY TABLE BETTING_PROPOSAL_SOURCE_MATCH(ID BIGINT NOT NULL PRIMARY KEY,BETTING_PROPOSAL_SOURCE_ID BIGINT NOT NULL,MATCH_ID BIGINT NOT NULL,CONSTRAINT FKNHHP7UYNSP41JGO2G8CISF2DH FOREIGN KEY(BETTING_PROPOSAL_SOURCE_ID) REFERENCES BETTING_PROPOSAL_SOURCE(ID))
CREATE MEMORY TABLE BETTOR(ID BIGINT NOT NULL PRIMARY KEY,ACTIVE BOOLEAN NOT NULL,AVAILABLE_RESOURCES NUMERIC NOT NULL,AVG_RESOURCES_SINCE_LAST_ALGN NUMERIC,BETTING_IN_PROGRESS BOOLEAN NOT NULL,DEFAULT_MONTH_START_AMOUNT NUMERIC NOT NULL,DESCRIPTION VARCHAR(1000),LOGIC_PARAMETERS VARCHAR(4000),TOTAL_PROFIT NUMERIC,BOOKMAKER_ID BIGINT NOT NULL)
CREATE MEMORY TABLE BOOKMAKER(ID BIGINT NOT NULL PRIMARY KEY,LABEL VARCHAR(30),MINIMAL_AMOUNT_TO_BET NUMERIC NOT NULL,TAX NUMERIC NOT NULL,WEB_PAGE_URL VARCHAR(500) NOT NULL,CONSTRAINT UK_TG8DYI693HGGBCNPRPKCXKNOV UNIQUE(LABEL),CONSTRAINT UK_KNWF1DY3FRCUCCE3XH1CFUXGG UNIQUE(WEB_PAGE_URL))
CREATE MEMORY TABLE BOOKMAKER_NAME(ID BIGINT NOT NULL PRIMARY KEY,NAME VARCHAR(50) NOT NULL,SYSTEM VARCHAR(50) NOT NULL,BOOKMAKER_ID BIGINT NOT NULL,CONSTRAINT FK79UANWETQ5SQ61O29OUF1318X FOREIGN KEY(BOOKMAKER_ID) REFERENCES BOOKMAKER(ID))
CREATE MEMORY TABLE CUSTOM_JOB(ID BIGINT NOT NULL PRIMARY KEY,ACTIVE BOOLEAN NOT NULL,DESCRIPTION VARCHAR(1000),LOGIC_IMP_CLASS VARCHAR(255) NOT NULL,LOGIC_PARAMETERS VARCHAR(4000),SCHEDULE_EXPRESSION VARCHAR(255) NOT NULL)
CREATE MEMORY TABLE MATCH(ID BIGINT NOT NULL PRIMARY KEY,IDENTIFIER VARCHAR(255) NOT NULL,AWAYSCORE SMALLINT,HOMESCORE SMALLINT,START_TIME TIMESTAMP NOT NULL,AWAY_TEAM_ID BIGINT NOT NULL,HOME_TEAM_ID BIGINT NOT NULL,CONSTRAINT UK_3VBB5GA5MRLAJL82T5XIM00SJ UNIQUE(IDENTIFIER))
CREATE MEMORY TABLE MATCH_ODD(ID BIGINT NOT NULL PRIMARY KEY,ODD_1 NUMERIC NOT NULL,ODD_12 NUMERIC,ODD_1X NUMERIC,ODD_2 NUMERIC NOT NULL,ODD_BTS_N NUMERIC,ODD_BTS_Y NUMERIC,ODD_O_05 NUMERIC,ODD_O_15 NUMERIC,ODD_O_25 NUMERIC,ODD_O_35 NUMERIC,ODD_O_45 NUMERIC,ODD_O_55 NUMERIC,ODD_O_65 NUMERIC,ODD_U_05 NUMERIC,ODD_U_15 NUMERIC,ODD_U_25 NUMERIC,ODD_U_35 NUMERIC,ODD_U_45 NUMERIC,ODD_U_55 NUMERIC,ODD_U_65 NUMERIC,ODD_X NUMERIC NOT NULL,ODD_X2 NUMERIC,TIMESTAMP TIMESTAMP NOT NULL,BOOKMAKER_ID BIGINT NOT NULL,MATCH_ID BIGINT NOT NULL,CONSTRAINT FKMD4U1M80KXBIE59U0EAI0O44J FOREIGN KEY(BOOKMAKER_ID) REFERENCES BOOKMAKER(ID),CONSTRAINT FKT2DAN1X4DWK1PN0XTVMOJEY1B FOREIGN KEY(MATCH_ID) REFERENCES MATCH(ID))
CREATE INDEX IDXSR2ET6LVJB3BOU40BBFV2E3D7 ON MATCH_ODD(MATCH_ID)
CREATE MEMORY TABLE PROPOSED_MATCH_MAPPING(ID BIGINT NOT NULL PRIMARY KEY,AWAY_SIMILARITY_FACTOR DOUBLE NOT NULL,HOME_SIMILARITY_FACTOR DOUBLE NOT NULL,MATCH_START_TIME TIMESTAMP NOT NULL,PROPOSED_AWAY_TEAM_NAME VARCHAR(255) NOT NULL,PROPOSED_HOME_TEAM_NAME VARCHAR(255) NOT NULL,SOURCE_SYSTEM VARCHAR(255) NOT NULL,STATUS VARCHAR(255) NOT NULL,AWAY_TEAM_ID BIGINT NOT NULL,HOME_TEAM_ID BIGINT NOT NULL,REFERENCE_MATCH_ID BIGINT NOT NULL,CONSTRAINT FKJONBII28RVD1RMME1LGS4KGJB FOREIGN KEY(REFERENCE_MATCH_ID) REFERENCES MATCH(ID))
CREATE MEMORY TABLE TEAM(ID BIGINT NOT NULL PRIMARY KEY,NAME VARCHAR(255) NOT NULL,CONSTRAINT UK_QRPUH9N6H5SIGLK032B47QI1S UNIQUE(NAME))
CREATE MEMORY TABLE TEAM_NAME(ID BIGINT NOT NULL PRIMARY KEY,PROPOSED_TEAM_NAME VARCHAR(255) NOT NULL,TEAM_ID BIGINT NOT NULL,CONSTRAINT UK_JOU87XOW91O005WM6MQ93C316 UNIQUE(PROPOSED_TEAM_NAME),CONSTRAINT FKK7LFFU1TJMMUNCRLGKO8WN6MS FOREIGN KEY(TEAM_ID) REFERENCES TEAM(ID))
CREATE MEMORY TABLE TYPERSI_HISTORY_ENTRY(ID BIGINT NOT NULL PRIMARY KEY,AVG_ODD NUMERIC NOT NULL,BETTOR VARCHAR(255) NOT NULL,LOST_BETS INTEGER NOT NULL,MONTH VARCHAR(255) NOT NULL,PROFIT NUMERIC NOT NULL,WON_BETS INTEGER NOT NULL)
ALTER TABLE BETTING_EVENT ADD CONSTRAINT FK19SBFK4UJEWUW3MEEIPS43N37 FOREIGN KEY(BETTOR_ID) REFERENCES BETTOR(ID)
ALTER TABLE BETTING_EVENT ADD CONSTRAINT FKJWTKTB0CH73XWYH8EBTV2EC23 FOREIGN KEY(MATCH_ID) REFERENCES MATCH(ID)
ALTER TABLE BETTING_PROPOSAL_SOURCE_MATCH ADD CONSTRAINT FKAM2LS7H5P9YR3X1X4U76Y85T1 FOREIGN KEY(MATCH_ID) REFERENCES MATCH(ID)
ALTER TABLE BETTOR ADD CONSTRAINT FK9XRVNBG7LJN3OF2OLDEVP0AS1 FOREIGN KEY(BOOKMAKER_ID) REFERENCES BOOKMAKER(ID)
ALTER TABLE MATCH ADD CONSTRAINT FK7SSV8RF0MB9D8XY8M9VSFRWYM FOREIGN KEY(AWAY_TEAM_ID) REFERENCES TEAM(ID)
ALTER TABLE MATCH ADD CONSTRAINT FK1J8F2VR5C8YCXQGDG0OVLMJXU FOREIGN KEY(HOME_TEAM_ID) REFERENCES TEAM(ID)
ALTER TABLE PROPOSED_MATCH_MAPPING ADD CONSTRAINT FKOYH1YYUJMCXIU51SVS1F00972 FOREIGN KEY(AWAY_TEAM_ID) REFERENCES TEAM(ID)
ALTER TABLE PROPOSED_MATCH_MAPPING ADD CONSTRAINT FKQH66YXTIHAQT53US5CKEVEYXU FOREIGN KEY(HOME_TEAM_ID) REFERENCES TEAM(ID)
CREATE USER SA PASSWORD ""
GRANT DBA TO SA
SET WRITE_DELAY 10
